import requests

import json

def password_found(pw: str) -> str:
    name = __file__.split(".")[0]
    
    dir = f"{name}-flag.txt"

    print(f"Password Found : {pw}\n")

    print(f"Saving password to {dir}", end="...")
    
    with open(dir, "w+") as f:
        f.write(pw)

    print("Done\n")

    return dir

url = "http://saturn.picoctf.net:51741"

r = requests.get(url)

content = r.text

r = requests.get(url + "/flag?input=picoCTF")

content = r.text
content = json.loads(content)

result = content["flag"]

dir = password_found(result)